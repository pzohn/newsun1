/** layuiAdmin.std-v1.2.1 LPPL License By http://www.layui.com/admin/ */
 ;layui.define(["form","upload"],function(t){var i=layui.$,e=layui.layer,n=(layui.laytpl,layui.setter,layui.view,layui.admin),s=layui.form,a=layui.upload;i("body");s.verify({nickname:function(t,i){return new RegExp("^[a-zA-Z0-9_一-龥\\s·]+$").test(t)?/(^\_)|(\__)|(\_+$)/.test(t)?"用户名首尾不能出现下划线'_'":/^\d+\d+\d$/.test(t)?"用户名不能全为数字":void 0:"用户名不能有特殊字符"},pass:[/^[\S]{6,12}$/,"密码必须6到12位，且不能出现空格"],repass:function(t){if(t!==i("#LAY_password").val())return"两次密码输入不一致"}}),s.on("submit(set_website)",function(t){return e.msg(JSON.stringify(t.field)),!1}),s.on("submit(set_shopping)",function(t){return n.req({url:"https://www.hattonstar.com/shoppingInsert",method:"POST",data:{name:t.field.shopping_name,flag:t.field.shopping_info,price:t.field.shopping_price,type:t.field.shopping_type,oper:"hubin"},success:function(t){return e.msg(t.msg)}}),!1}),s.on("submit(set_system_email)",function(t){return e.msg(JSON.stringify(t.field)),!1}),s.on("submit(setmyinfo)",function(t){return e.msg(JSON.stringify(t.field)),!1});var r=i("#LAY_avatarSrc");a.render({url:"/api/upload/",elem:"#LAY_avatarUpload",done:function(t){0==t.status?r.val(t.url):e.msg(t.msg,{icon:5})}}),n.events.avartatPreview=function(t){var i=r.val();e.photos({photos:{title:"查看头像",data:[{src:i}]},shade:.01,closeBtn:1,anim:5})},s.on("submit(setmypass)",function(t){return e.msg(JSON.stringify(t.field)),!1}),t("set",{})});